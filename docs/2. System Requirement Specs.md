# 2. System Requirement Specs

# **1. Functional Requirements (FR)**

| **ID** | **Nama Modul** | **Deskripsi Kebutuhan Fungsional** | **Target User** |
| --- | --- | --- | --- |
| **FR-01** | Public Landing Page | Menampilkan halaman publik berisi tombol “Mulai Check-In” dan link “Cek Status Antrean”. Tampilan high contrast, font besar. | Vendor |
| **FR-02** | Input Identitas Vendor/Driver | Form Step 1: input nama driver, pilih perusahaan (combobox), auto-fill Vendor ID & kategori vendor. Validasi: perusahaan harus ada dalam master. | Vendor |
| **FR-03** | Dynamic Checklist Rendering | Step 2: menampilkan checklist berdasarkan kategori: Safety, Quality, Productivity, Environment. Ada General dan Specific. UI pakai Accordion, tiap item YA/TIDAK. Progress X/Y dan warning jika ada jawaban TIDAK. | Vendor |
| **FR-04** | Submission & Queue Number | Step 3: konfirmasi, simpan data, generate nomor antrean format **YYYYMMDD-XXX**, set status awal “Waiting for Verification”, tampilkan halaman success. | Sistem, Vendor |
| **FR-05** | Vendor Queue Lookup | Halaman cek status antrean, input nomor antrean, menampilkan perusahaan, status, estimasi, auto-refresh 30 detik. | Vendor |
| **FR-06** | Public Queue Display (TV Mode) | Full-screen table antrean aktif (Waiting & Approved), auto-refresh 10 detik, highlight status “Ready”. | Publik |
| **FR-07** | Login & Role-Based Access | Login menggunakan JWT eksternal, membaca role (Petugas/Leader/Admin) untuk akses fitur. | Petugas, Leader, Admin |
| **FR-08** | Verification List View | Table antrean dengan filter, search, pagination. Menampilkan identitas dasar tanpa bisa edit. | Petugas, Leader |
| **FR-09** | Verification Drawer | Drawer berisi identitas, checklist lengkap, highlight jawaban TIDAK, pilihan Approved/Rejected, alasan wajib jika Rejected. Simpan timestamp & ID Petugas. | Petugas |
| **FR-10** | Time Log & Check-Out | Sistem buat Check-In Time otomatis saat Approved. Petugas bisa Check-Out sekali saja, durasi dihitung real-time. | Petugas |
| **FR-11** | Monitoring Dashboard | Dashboard harian: total antrean, Approved, Rejected, Waiting, avg lead time. | Leader |
| **FR-12** | Reporting & Export XLSX | Filter date range, status, kategori vendor, kategori checklist. Export Excel 4 sheet (Summary, Details, Checklist Answers, Non-Compliance). | Leader, Admin |
| **FR-13** | Vendor Master Management | CRUD kategori vendor, edit kategori vendor per perusahaan, lihat jumlah vendor per kategori, force sync. | Admin |
| **FR-14** | Checklist Master Management | CRUD checklist general & specific, drag-drop reorder, toggle required, preview tampilan checklist. | Admin |

---

# **2. Non-Functional Requirements (NFR)**

## **2.1 Security**

| **ID** | **Kebutuhan** | **Deskripsi** |
| --- | --- | --- |
| **NFR-S1** | Role-Based Access Control | Sistem menerapkan pembatasan akses berdasarkan peran (Petugas, Leader, Admin) sesuai payload JWT eksternal. |
| **NFR-S2** | Secure Authentication | Verifikasi token dilakukan menggunakan public key dari sistem eksternal. Token yang expired atau invalid ditolak. |

---

## **2.2 Performance**

| **ID** | **Kebutuhan** | **Deskripsi** |
| --- | --- | --- |
| **NFR-P1** | Page Load Time | Halaman Self Check-In harus memuat maksimal 3 detik pada jaringan standar. |
| **NFR-P2** | Query Responsiveness | Query laporan harus memiliki waktu respons rata-rata di bawah 5 detik untuk 95% permintaan, dengan kapasitas minimal 500.000 entri histori. |

---

## **2.3 Operational**

| **ID** | **Kebutuhan** | **Deskripsi** |
| --- | --- | --- |
| **NFR-O1** | Checklist Replication Accuracy | Sistem mereplikasi seluruh item checklist manual sesuai dokumen resmi Safety & Health Check tanpa mengubah isi, urutan, kategori, serta menambahkan hanya item tambahan yang telah disetujui. |
| **NFR-O2** | Audit Trail | Sistem mencatat seluruh aktivitas verifikasi (ID Petugas, tanggal, waktu, status, alasan penolakan) dan menyimpannya minimal 1 tahun. |
| **NFR-O3** | System Availability | Sistem memiliki ketersediaan minimal 99.9% selama jam operasional gudang. |

---

# **3. Data Architecture**

| **Tipe Data** | **Deskripsi** |
| --- | --- |
| **VendorMaster** | Menyimpan Vendor ID, Nama Perusahaan, dan Kategori Vendor. ID dan Nama berasal dari sinkronisasi eksternal, sedangkan kategori dikelola internal. |
| **ChecklistItemMaster** | Menyimpan seluruh item checklist beserta kategorinya. Item dapat berupa General atau Specific. Urutan item ditentukan di master. |
| **CheckInEntry** | Menyimpan identitas vendor/driver, timestamp submission, nomor antrean, status antrean, dan kategori vendor terkait proses check-in. |
| **CheckInResponse** | Menyimpan jawaban checklist per item (1 entri per item checklist), terhubung ke CheckInEntry. |
| **VerificationResult** | Menyimpan keputusan verifikasi, alasan reject (jika ada), ID Petugas, dan timestamp verifikasi. |
| **TimeLogData** | Menyimpan Check-In Time dan Check-Out Time untuk setiap entri. Check-Out Time hanya dapat dicatat sekali. |
| **QueueStatus** | Menyimpan status terbaru setiap nomor antrean untuk kebutuhan real-time dashboard dan TV Display. |
| **UserSessionData** | Menyimpan User ID, Nama, Role dari JWT untuk keperluan audit dan tampilan dashboard. Data sync setiap ada login berhasil dilakukan pengecekan apakah user sudah ada di UserSessionData atau belum. |

---

# **4. Minimum Viable Product (MVP)**

| **Aspect** | **In-Scope** | **Out-of-Scope** |
| --- | --- | --- |
| **Validasi** | Verifikasi manual oleh Petugas dengan final judgement (Approved/Rejected + alasan). | Deteksi otomatis menggunakan AI Vision. |
| **Analitik** | Ringkasan operasional harian dan export laporan harian (.xlsx). | Analytics lanjutan: compliance rate, item-level compliance, vendor ranking, dashboard advanced analytics. |
| **Identitas** | Input identitas manual melalui halaman publik. | OCR, scanning ID, autofill kamera, kartu digital. |
| **Antrean** | Auto-numbering antrean & Tracking status. | Estimasi waktu tunggu otomatis, prediksi antrean. |
| **Akses User** | Login Petugas/Leader/Admin via JWT eksternal. Vendor tidak memiliki akun. | Portal Vendor & akun Vendor. |

---

# **5. System Interface & Hardware Requirements**

## 5.1 Client Devices

| **Peruntukan** | **User Target** | **Spesifikasi Minimum Hardware** | **Spesifikasi Software** |
| --- | --- | --- | --- |
| **Kiosk Station** | Vendor / Driver | **Device:** Tablet atau Touchscreen PC (Min. 10 inch).
**Network:** Koneksi Wi-Fi stabil.
**Input:** Layar sentuh responsif. | **Browser:** Google Chrome / Edge (Versi Terbaru).
**Mode:** Kiosk Mode enabled. |

---

## **5.2 Public Display**

Display antrean

| **Komponen** | **Spesifikasi** |
| --- | --- |
| **Display** | Monitor LED ukuran min. 32 inch. |
| **Controller** | Mini PC yang terhubung via HDMI. |
| **Resolution** | Full HD (1920x1080) aspek rasio 16:9. |

---

## 5.3 Additional Hardware — Next Phase

| Komponen | Peruntukan Next Phase | Deskripsi |
| --- | --- | --- |
| **Scanner ID / Barcode Scanner** | OCR atau scan ID otomatis | Untuk fitur autofill identitas dari ID card / QR Vendor (jika suatu hari aktif). |
| **Kamera Eksternal (Webcam)** | Verifikasi otomatis / AI Vision | Untuk advanced verification menggunakan AI (deteksi helm, APD, dsb). |

# **6. Technology Stack**

### **Frontend**

- Next.js (typescript), Tailwind CSS, Shadcn UI, Lucide Icons
- React Hook Form + Zod
- React Query
- TanStack Table

### **Backend**

- Node.js + NestJS (typescript)
- SQL Server + Prisma ORM
- JWT Auth (from external provider)
- Scheduler (node-cron)
- ExcelJS untuk export

### **DevOps**

- Windows Server + Nginx + PM2
- GitHub/GitLab
- CI/CD opsional
- Logging (Winston) & Sentry opsional